{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/javiermayorga/Documents/repos/v0-amazonico-landing-page/lib/cart-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from \"react\"\n\nexport interface CartItem {\n  id: string\n  name: string\n  price: number\n  originalPrice: number\n  savings: number\n  quantity: number\n}\n\ninterface CartContextType {\n  items: CartItem[]\n  addItem: (item: Omit<CartItem, \"id\" | \"quantity\">) => void\n  removeItem: (id: string) => void\n  updateQuantity: (id: string, quantity: number) => void\n  clearCart: () => void\n  getTotal: () => number\n  getTotalItems: () => number\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined)\n\nexport function CartProvider({ children }: { children: ReactNode }) {\n  const [items, setItems] = useState<CartItem[]>([])\n\n  // Cargar carrito desde localStorage al montar\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      const saved = localStorage.getItem(\"cart\")\n      if (saved) {\n        try {\n          setItems(JSON.parse(saved))\n        } catch (e) {\n          console.error(\"Error loading cart:\", e)\n        }\n      }\n    }\n  }, [])\n\n  // Guardar carrito en localStorage cuando cambie\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(\"cart\", JSON.stringify(items))\n    }\n  }, [items])\n\n  const addItem = (item: Omit<CartItem, \"id\" | \"quantity\">) => {\n    setItems((prev) => {\n      const existingItem = prev.find((i) => i.name === item.name)\n      if (existingItem) {\n        return prev.map((i) =>\n          i.name === item.name\n            ? { ...i, quantity: i.quantity + 1 }\n            : i\n        )\n      }\n      return [\n        ...prev,\n        {\n          ...item,\n          id: `${item.name}-${Date.now()}`,\n          quantity: 1,\n        },\n      ]\n    })\n  }\n\n  const removeItem = (id: string) => {\n    setItems((prev) => prev.filter((item) => item.id !== id))\n  }\n\n  const updateQuantity = (id: string, quantity: number) => {\n    if (quantity <= 0) {\n      removeItem(id)\n      return\n    }\n    setItems((prev) =>\n      prev.map((item) =>\n        item.id === id ? { ...item, quantity } : item\n      )\n    )\n  }\n\n  const clearCart = () => {\n    setItems([])\n  }\n\n  const getTotal = () => {\n    return items.reduce((total, item) => total + item.price * item.quantity, 0)\n  }\n\n  const getTotalItems = () => {\n    return items.reduce((total, item) => total + item.quantity, 0)\n  }\n\n  return (\n    <CartContext.Provider\n      value={{\n        items,\n        addItem,\n        removeItem,\n        updateQuantity,\n        clearCart,\n        getTotal,\n        getTotalItems,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  )\n}\n\nexport function useCart() {\n  const context = useContext(CartContext)\n  if (context === undefined) {\n    throw new Error(\"useCart must be used within a CartProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAuBA,MAAM,4BAAc,IAAA,0OAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qOAAQ,EAAa,EAAE;IAEjD,8CAA8C;IAC9C,IAAA,sOAAS;kCAAC;YACR,wCAAmC;gBACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;gBACnC,IAAI,OAAO;oBACT,IAAI;wBACF,SAAS,KAAK,KAAK,CAAC;oBACtB,EAAE,OAAO,GAAG;wBACV,QAAQ,KAAK,CAAC,uBAAuB;oBACvC;gBACF;YACF;QACF;iCAAG,EAAE;IAEL,gDAAgD;IAChD,IAAA,sOAAS;kCAAC;YACR,wCAAmC;gBACjC,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC9C;QACF;iCAAG;QAAC;KAAM;IAEV,MAAM,UAAU,CAAC;QACf,SAAS,CAAC;YACR,MAAM,eAAe,KAAK,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,KAAK,IAAI;YAC1D,IAAI,cAAc;gBAChB,OAAO,KAAK,GAAG,CAAC,CAAC,IACf,EAAE,IAAI,KAAK,KAAK,IAAI,GAChB;wBAAE,GAAG,CAAC;wBAAE,UAAU,EAAE,QAAQ,GAAG;oBAAE,IACjC;YAER;YACA,OAAO;mBACF;gBACH;oBACE,GAAG,IAAI;oBACP,IAAI,GAAG,KAAK,IAAI,CAAC,CAAC,EAAE,KAAK,GAAG,IAAI;oBAChC,UAAU;gBACZ;aACD;QACH;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,SAAS,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;IACvD;IAEA,MAAM,iBAAiB,CAAC,IAAY;QAClC,IAAI,YAAY,GAAG;YACjB,WAAW;YACX;QACF;QACA,SAAS,CAAC,OACR,KAAK,GAAG,CAAC,CAAC,OACR,KAAK,EAAE,KAAK,KAAK;oBAAE,GAAG,IAAI;oBAAE;gBAAS,IAAI;IAG/C;IAEA,MAAM,YAAY;QAChB,SAAS,EAAE;IACb;IAEA,MAAM,WAAW;QACf,OAAO,MAAM,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAE;IAC3E;IAEA,MAAM,gBAAgB;QACpB,OAAO,MAAM,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,QAAQ,EAAE;IAC9D;IAEA,qBACE,yPAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;GAxFgB;KAAA;AA0FT,SAAS;;IACd,MAAM,UAAU,IAAA,uOAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}}]
}